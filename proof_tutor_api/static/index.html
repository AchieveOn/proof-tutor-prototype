<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proof Tutor Prototype</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>証明ヒントAI (Proof Tutor)</h1>
        <div class="guide">
            <h2>Proof Tutor の使い方</h2>
            <ol>
                <li>**【定理・文脈】**：証明したい問題の分野やテーマを簡潔に入力します。</li>
                <li>**【与条件】**：問題で与えられている条件をすべて箇条書きで入力します。</li>
                <li>**【結論】**：最終的に証明したい結論を入力します。</li>
                <li>**【生徒の途中記述】**：生徒が現在までに書いた証明の記述を、途中であってもすべて入力します。</li>
            </ol>
            <p>入力後、「次の一歩のヒントを見る」ボタンを押すと、AIがあなたの記述を分析し、次に書くべき一歩のヒントを返します。**完全な解答は返しません。**</p>
        </div>

        <form id="hint-form">
            <div class="input-group">
                <label for="theorem_context"><strong>【定理・文脈】</strong> <span>(例: 相似の証明、余弦定理の導出)</span></label>
                <input type="text" id="theorem_context" value="三角形の合同条件（二辺とその間の角）" required>
            </div>

            <div class="input-group">
                <label for="given"><strong>【与条件】</strong> <span>(問題で与えられた条件をすべて入力)</span></label>
                <textarea id="given" rows="2" required>△ABCと△DEFにおいて、AB=DE, BC=EF</textarea>
            </div>

            <div class="input-group">
                <label for="to_prove"><strong>【結論】</strong> <span>(最終的に証明したい内容)</span></label>
                <input type="text" id="to_prove" value="△ABC ≡ △DEF" required>
            </div>

            <div class="input-group">
                <label for="student_attempt"><strong>【生徒の途中記述】</strong> <span>(現在までに書いた証明をすべて入力)</span></label>
                <textarea id="student_attempt" rows="5" required>
1. 仮定より、AB = DE
2. 仮定より、BC = EF
3. したがって、二辺が等しいので合同である。
                </textarea>
            </div>

            <button type="submit" id="submit-button">次の一歩のヒントを見る</button>
            <p id="loading-message" class="hidden">AIが考えています...</p>
        </form>

        <div id="hint-output" class="hidden">
            <h2>AIからのヒント</h2>
            <div class="card">
                <h3>次の一歩 (Next Hint)</h3>
                <p id="next-hint-text"></p>
            </div>
            <div class="card why-card">
                <h3>なぜその一歩か (Why)</h3>
                <p id="why-text"></p>
            </div>
            <div class="diagnosis-log">
                <h3>診断ログ (Diagnosis for Teacher)</h3>
                <p id="diagnosis-text"></p>
            </div>
        </div>

        <div id="error-message" class="hidden error">
            <p>エラーが発生しました。</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
